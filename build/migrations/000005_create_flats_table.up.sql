CREATE TABLE IF NOT EXISTS flats (
    id serial PRIMARY KEY, 
    owner_id INT REFERENCES users(id) ON DELETE CASCADE NOT NULL,
    address TEXT NOT NULL UNIQUE,
    long NUMERIC NOT NULL,
    lat NUMERIC NOT NULL,
    cell_id bigint NOT NULL,
    price NUMERIC DEFAULT 0,
    deposit NUMERIC DEFAULT 0,
    description TEXT DEFAULT '',
    time_to_metro_on_foot INT,
    time_to_metro_by_transport INT,
    metro_station VARCHAR(64),
    floor INT NOT NULL,
    floor_total INT NOT NULL,
    area INT NOT NULL,
    repair INT REFERENCES repairs(id) NOT NULL,
    pass_elevator boolean NOT NULL,
    service_elevator boolean NOT NULL,
    kitchen boolean NOT NULL,
    microwave_oven boolean NOT NULL,
    bathroom INT NOT NULL,
    refrigerator boolean NOT NULL,
    dishwasher boolean NOT NULL,
    stove int NOT NULL,
    vacuum_cleaner boolean NOT NULL,
    dryer boolean NOT NULL,
    internet boolean NOT NULL,
    animals boolean NOT NULL,
    smoking boolean NOT NULL,
    heating int NOT NULL,
    is_visible boolean DEFAULT TRUE,
    is_constructor boolean DEFAULT TRUE,
    conditioner boolean NOT NULL,
    sex VARCHAR(64) NOT NULL,
    wifi boolean NOT NULL,
    created_at TIMESTAMP DEFAULT current_timestamp,
    updated_at TIMESTAMP DEFAULT current_timestamp
);

CREATE INDEX ON flats USING btree(cell_id)